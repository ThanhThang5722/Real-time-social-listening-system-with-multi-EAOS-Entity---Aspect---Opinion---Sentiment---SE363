# ========================================
# TV Producer Analytics - Environment Variables
# ========================================

# ----------------------------------------
# Docker Services Configuration
# ----------------------------------------
CLICKHOUSE_USER=admin
CLICKHOUSE_PASSWORD=admin123
CLICKHOUSE_DB=tv_analytics

LANGFUSE_SECRET=your-secret-key-change-this-in-production
LANGFUSE_SALT=your-salt-change-this-in-production
TELEMETRY_ENABLED=true
LANGFUSE_ENABLE_EXPERIMENTAL_FEATURES=false

# ----------------------------------------
# Google Cloud Platform
# ----------------------------------------
# GCP Project
GCP_PROJECT_ID=your-gcp-project-id
GCP_REGION=us-central1
GCP_LOCATION=us-central1

# Service Account (for local development)
GOOGLE_APPLICATION_CREDENTIALS=./gcp-service-account.json

# Cloud Pub/Sub
PUBSUB_TOPIC_ID=tv-comments
PUBSUB_SUBSCRIPTION_ID=tv-comments-sub
PUBSUB_MAX_MESSAGES=100

# Vertex AI
VERTEX_AI_MODEL=gemini-1.5-pro
VERTEX_AI_TEMPERATURE=0.1
VERTEX_AI_MAX_OUTPUT_TOKENS=2048
VERTEX_AI_TOP_P=0.95
VERTEX_AI_TOP_K=40

# ----------------------------------------
# Database Connections (for Python app)
# ----------------------------------------
# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_DECODE_RESPONSES=true

# ClickHouse
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_NATIVE_PORT=9000
CLICKHOUSE_DATABASE=tv_analytics
CLICKHOUSE_USERNAME=admin
CLICKHOUSE_PASSWORD=admin123

# Elasticsearch
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_SCHEME=http
ELASTICSEARCH_INDEX_COMMENTS=tv_comments
ELASTICSEARCH_INDEX_TRENDS=tv_trends

# ----------------------------------------
# LangFuse (Observability)
# ----------------------------------------
# Option 1: Self-hosted (Docker)
LANGFUSE_HOST=http://localhost:3000
LANGFUSE_PUBLIC_KEY=pk-lf-xxx
LANGFUSE_SECRET_KEY=sk-lf-xxx

# Option 2: Cloud version (uncomment if using cloud)
# LANGFUSE_HOST=https://cloud.langfuse.com
# LANGFUSE_PUBLIC_KEY=pk-lf-xxx
# LANGFUSE_SECRET_KEY=sk-lf-xxx

# ----------------------------------------
# Application Settings
# ----------------------------------------
# API Server
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_DEBUG=false
API_RELOAD=false

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# EAOS Configuration
EAOS_SENTIMENT_WEIGHT=0.6
EAOS_ENGAGEMENT_WEIGHT=0.4
EAOS_DECAY_FACTOR=0.9
EAOS_TIME_WINDOW_MINUTES=5

# Trend Detection
TREND_MIN_MENTIONS=10
TREND_TIME_WINDOWS=5,15,60  # minutes
TREND_SPIKE_THRESHOLD=2.0    # 2x average is considered spike

# Agent Configuration
AGENT_MAX_ITERATIONS=5
AGENT_TIMEOUT_SECONDS=30
AGENT_VERBOSE=true

# ----------------------------------------
# Logging
# ----------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/app.log

# ----------------------------------------
# Feature Flags
# ----------------------------------------
ENABLE_BIGQUERY=false
ENABLE_ANOMALY_DETECTION=true
ENABLE_AUTO_RECOMMENDATIONS=true
